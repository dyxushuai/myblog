前面聊了一下《[c++为什么很难](https://github.com/jwongzblog/myblog/blob/master/c%2B%2B/%E4%B8%BA%E4%BB%80%E4%B9%88c%2B%2B%E5%BE%88%E9%9A%BE.md)》，简而言之，光知道c++的基本语法还不能够在一个大型工程里面写出健壮的代码，而作为teamleader，你肯定**希望新招来的毕业生既便宜，又能快速的接需求，而且能写出健壮的代码**，很显然这是伪科学，zf很喜欢用“既要...又要...还要...而且要...”造句，请问哪个实现了？
那么团队既然选择了c++作为主力语言，如何做到既要马儿跑得快，又要马儿不吃草了？
- ”鼓励学习“
逼着他们去学习，把effective系列吃透，定期考试，和kpi挂钩，这是菊厂擅长的策略
- code review
领导辛苦点，多花点时间review代码，手把手教
- 放弃c++
......

开玩笑的，其实COM组件的出现就是尝试提供一种更好的c++编码实践（此篇不是讲code style），我不太想复述《COM本质论》介绍的优点，简单的讲讲我的对XPCOM组件的感受（Mozilla提供）
- 提供pre c++11时代的引用计数式的智能指针，我相信无数的团队都造过这个轮子
- 类声明里NS_DECL_ 宏，没加这个宏，代码编译不过，其实这个宏的最终展开是为析构函数添加virtual关键字，这个我在《c++为什么难》介绍过，在多重继承中，不这么编码很容易造成内存泄漏
- 万类的根基类 nsISupports，所有的接口都继承这个类，是不是跟python的object类很像？这样一来可以轻松的实现enumerator，可以避免使用STL里面遍历方式，也就避免了《Effective STL》
- RTTI，运行时多态

组件技术能暂时闭坑，但是如果要让新手理解这些东西，还是需要先去理解effctive系列闭坑手段和c++设计模式的多态运用，否则就会像我一样，看了5遍都没看懂《COM本质论》在讲些什么